<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community Hub - Home</title>
    <link rel="stylesheet" href="../styles/homestyles.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">Community Hub</div>
            <div class="time-display">
                <div id="current-time">10:30 AM</div>
                <div class="date" id="current-date">Thursday, July 10, 2025</div>
            </div>
            <div class="login-section">
                <a href="signin.html" class="login-btn">Login</a>
            </div>
        </div>
    </header>

    <nav class="nav">
        <button class="mobile-nav-toggle" id="mobile-nav-toggle">
            Navigation Menu
        </button>
        <div class="nav-content">
            <a href="#" class="nav-item active" data-tab="home">Home</a>
            <a href="status.html" class="nav-item">Status</a>
            <a href="#" class="nav-item" data-tab="events">Nearby Events</a>
            <a href="map.html" class="nav-item" data-tab="map">Map</a>
            <a href="/matchmaking" class="nav-item" data-tab="matchmaking">Matchmaking</a>
            <a href="#" class="nav-item" data-tab="calendar">Calendar</a>
            <a href="#" class="nav-item" data-tab="notifications">Notifications</a>
            <a href="#" class="nav-item" data-tab="profile">Profile</a>
            <a href="friends.html" class="nav-item">Friends</a>
            <a href="#" class="nav-item" data-tab="settings">Settings</a>
        </div>
        <div class="nav-dropdown" id="nav-dropdown">
            <a href="#" class="nav-item active" data-tab="home">Home</a>
            <a href="status.html" class="nav-item">Status</a>
            <a href="#" class="nav-item" data-tab="events">Nearby Events</a>
            <a href="map.html" class="nav-item" data-tab="map">Map</a>
            <a href="/matchmaking" class="nav-item" data-tab="matchmaking">Matchmaking</a>
            <a href="#" class="nav-item" data-tab="calendar">Calendar</a>
            <a href="#" class="nav-item" data-tab="notifications">Notifications</a>
            <a href="#" class="nav-item" data-tab="profile">Profile</a>
            <a href="friends.html" class="nav-item">Friends</a>
            <a href="#" class="nav-item" data-tab="settings">Settings</a>
        </div>
    </nav>

    <main class="main-content">
        <!-- Home Tab Content -->
        <div class="tab-content active" id="home-tab">
            <section class="welcome-section">
                <h1 class="welcome-title">Welcome Back!</h1>
                <p class="welcome-message">
                    Good morning! Here's what's happening in your community today. 
                    Stay connected with local events, important announcements, and helpful resources.
                </p>
            </section>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon" style="background-color: var(--prayer-time);">üå§Ô∏è</div>
                    <h2 class="card-title">Weather & Prayer Times</h2>
                </div>
                <div class="card-content">
                    <p style="font-size: 20px; margin-bottom: 1rem;">
                        <strong>Today:</strong> Partly Cloudy, 28¬∞C<br>
                        <span style="color: var(--text-secondary);">Perfect weather for outdoor activities!</span>
                    </p>
                    <div style="background-color: var(--primary-bg); padding: 1rem; border-radius: 8px;">
                        <strong>Next Prayer:</strong> Maghrib at 6:45 PM
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="card-icon" style="background-color: var(--warning-color);">üì¢</div>
                    <h2 class="card-title">Recent Announcements</h2>
                </div>
                <div class="card-content">
                    <p style="margin-bottom: 1rem;">
                        <strong>Road Closure:</strong> Woodlands Avenue 1 will be closed for maintenance this weekend.
                    </p>
                    <p style="margin-bottom: 1rem;">
                        <strong>New Activity:</strong> Senior Swimming classes starting next Monday at 9 AM.
                    </p>
                    <p>
                        <strong>Health Talk:</strong> Free diabetes screening next Friday at the community center.
                    </p>
                </div>
            </div>

            <div class="quick-actions">
                <a href="#" class="action-btn">üìû Call Family</a>
                <a href="#" class="action-btn">üöå Transport Schedule</a>
                <a href="#" class="action-btn">üè• Health Services</a>
                <a href="#" class="action-btn emergency">üö® Emergency Help</a>
            </div>
        </div>

        <!-- Profile Tab Content -->
        <div class="tab-content" id="profile-tab">
            <div class="profile-header">
                <div class="profile-avatar" id="profile-avatar">üë§</div>
                <div class="profile-name" id="profile-name">Loading...</div>
                <div class="profile-subtitle" id="profile-subtitle">Community Member</div>
            </div>

            <div class="profile-grid">
                <div class="profile-section">
                    <h3>üìã Personal Information</h3>
                    <div class="profile-field">
                        <span class="profile-label">Full Name:</span>
                        <span class="profile-value" id="display-name">Loading...</span>
                        <button class="edit-btn" onclick="editField('name')">Edit</button>
                    </div>
                    <div class="profile-field">
                        <span class="profile-label">Age:</span>
                        <span class="profile-value" id="display-age">Loading...</span>
                        <button class="edit-btn" onclick="editField('age')">Edit</button>
                    </div>
                    <div class="profile-field">
                        <span class="profile-label">Phone:</span>
                        <span class="profile-value" id="display-phone">Loading...</span>
                        <button class="edit-btn" onclick="editField('phone')">Edit</button>
                    </div>
                    <div class="profile-field">
                        <span class="profile-label">Address:</span>
                        <span class="profile-value" id="display-address">Loading...</span>
                        <button class="edit-btn" onclick="editField('address')">Edit</button>
                    </div>
                </div>

                <div class="profile-section">
                    <h3>‚öôÔ∏è Preferences</h3>
                    <div class="profile-field">
                        <span class="profile-label">Font Size:</span>
                        <select class="profile-input" id="font-size" onchange="updateSetting('fontSize', this.value)">
                            <option value="small">Small (14px)</option>
                            <option value="medium" selected>Medium (16px)</option>
                            <option value="large">Large (18px)</option>
                            <option value="extra-large">Extra Large (22px)</option>
                        </select>
                    </div>
                    <div class="profile-field">
                        <span class="profile-label">Notifications:</span>
                        <select class="profile-input" id="notifications" onchange="updateSetting('notifications', this.value)">
                            <option value="all" selected>All Notifications</option>
                            <option value="important">Important Only</option>
                            <option value="none">None</option>
                        </select>
                    </div>
                    <div class="profile-field">
                        <span class="profile-label">Language:</span>
                        <select class="profile-input" id="language" onchange="updateSetting('language', this.value)">
                            <option value="en" selected>English</option>
                            <option value="ms">Bahasa Malaysia</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="profile-section">
                <h3>üè• Health Information</h3>
                <div class="profile-field">
                    <span class="profile-label">Emergency Contact:</span>
                    <span class="profile-value" id="display-emergency">Loading...</span>
                    <button class="edit-btn" onclick="editField('emergency')">Edit</button>
                </div>
                <div class="profile-field">
                    <span class="profile-label">Medical Notes:</span>
                    <span class="profile-value" id="display-medical">Loading...</span>
                    <button class="edit-btn" onclick="editField('medical')">Edit</button>
                </div>
                <div class="profile-field">
                    <span class="profile-label">Allergies:</span>
                    <span class="profile-value" id="display-allergies">Loading...</span>
                    <button class="edit-btn" onclick="editField('allergies')">Edit</button>
                </div>
            </div>

            <div id="status-message"></div>
        </div>

        <!-- Other Tab Placeholders -->
        <div class="tab-content" id="events-tab">
            <section class="welcome-section">
                <h1 class="welcome-title">Nearby Events</h1>
                <p class="welcome-message">Find local events and activities in your area.</p>
            </section>
        </div>

        <div class="tab-content" id="map-tab">
            <section class="welcome-section">
                <h1 class="welcome-title">Community Map</h1>
                <p class="welcome-message">Navigate your neighborhood with our interactive map.</p>
            </section>
        </div>

        <div class="tab-content" id="calendar-tab">
            <section class="welcome-section">
                <h1 class="welcome-title">Calendar</h1>
                <p class="welcome-message">Keep track of your appointments and events.</p>
            </section>
        </div>

        <!-- Friends Tab Content -->
        <div class="tab-content" id="friends-tab">
            <div class="friends-container">
                <!-- Header Section -->
                <div class="friends-header">
                    <h1>üßë‚Äçü§ù‚Äçüßë Friends</h1>
                    <div class="friends-stats">
                        <span class="stat-item">
                            <strong id="friend-count">0</strong> Friends
                        </span>
                        <span class="stat-item">
                            <strong id="pending-count">0</strong> Pending
                        </span>
                    </div>
                </div>

                <!-- Search and Add Friends Section -->
                <div class="search-section">
                    <div class="search-container">
                        <input type="text" id="search-input" placeholder="Search for friends by username or email..." class="search-input">
                        <button onclick="searchUsers()" class="search-btn">Search</button>
                    </div>
                    <div id="search-results" class="search-results"></div>
                </div>

                <!-- Tab Navigation for Friends -->
                <div class="friends-tab-nav">
                    <button class="friends-tab-btn active" onclick="showFriendsTab('friends')" data-tab="friends">
                        My Friends
                    </button>
                    <button class="friends-tab-btn" onclick="showFriendsTab('pending')" data-tab="pending">
                        Friend Requests
                        <span class="badge" id="pending-badge" style="display: none;">0</span>
                    </button>
                    <button class="friends-tab-btn" onclick="showFriendsTab('sent')" data-tab="sent">
                        Sent Requests
                    </button>
                </div>

                <!-- Friends Tab Content -->
                <div class="friends-tab-content">
                    <!-- Friends List Tab -->
                    <div id="friends-list-tab" class="friends-tab-pane active">
                        <div class="friends-list" id="friends-list">
                            <div class="loading" id="friends-loading">Loading friends...</div>
                            <div class="empty-state" id="friends-empty" style="display: none;">
                                <h3>No friends yet</h3>
                                <p>Start by searching for people to add as friends!</p>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Requests Tab -->
                    <div id="pending-requests-tab" class="friends-tab-pane">
                        <div class="requests-list" id="pending-requests">
                            <div class="loading" id="pending-loading">Loading requests...</div>
                            <div class="empty-state" id="pending-empty" style="display: none;">
                                <h3>No pending requests</h3>
                                <p>When someone sends you a friend request, it will appear here.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Sent Requests Tab -->
                    <div id="sent-requests-tab" class="friends-tab-pane">
                        <div class="requests-list" id="sent-requests">
                            <div class="loading" id="sent-loading">Loading sent requests...</div>
                            <div class="empty-state" id="sent-empty" style="display: none;">
                                <h3>No sent requests</h3>
                                <p>Friend requests you send will appear here.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="notifications-tab">
            <section class="welcome-section">
                <h1 class="welcome-title">Notifications</h1>
                <p class="welcome-message">Stay updated with important announcements.</p>
            </section>
        </div>

        <div class="tab-content" id="settings-tab">
            <section class="welcome-section">
                <h1 class="welcome-title">Settings</h1>
                <p class="welcome-message">Customize your experience and preferences.</p>
            </section>
        </div>
    </main>


    <script src="../backend/global-settings.js"></script>
    <script src="script.js"></script>
    
</body>
</html>